<div class="header">
<h3> <strong>Manage your rentals</strong></h3></center>
</div>
<br>
<div class="container">
  <div class="bookings-index-container">
    <div class="bookings-index-left mr-5">
      <div class="header">
      <h4><strong> My Listings </strong></h4>
      </div>
         <% @cars.each do |car| %>
      <div class="card ml-5">
        <div class="card-img" style="background-image:url(<%= car.url %>);">
          <div class="overlay">
            <div class="overlay-content">
              <%= link_to "View", car_path(car), class: "hover" %>
            </div>
          </div>
        </div>

        <div class="card-content">
          <%= link_to car_path(car) do %>
            <p><strong><%= car.make %>&nbsp;&nbsp;<%= car.model %>&nbsp;&nbsp;<%= car.year %></strong></p>
            <p>Rate: $<%= car.price_per_day %></p>
          <%end%>
        </div>
      </div>
    <% end %>
    </div>
    <div class="bookings-index-right">
      <div class="header">
      <h4> Pending Approval </h4>
      </div>
      <% @incoming_rentals.each do |rental| %>
        <div class="container-rental">
          <img src="https://raw.githubusercontent.com/lewagon/fullstack-images/master/uikit/skateboard.jpg" />
          <div class="card-rental-infos pt-4">
            <p><strong>Your Vehicle:</strong> <%= rental.car.make  %> <%= rental.car.model  %> </p>
            <p><strong>Requested by User:</strong> <%= rental.user.username %> </p>
            <p><strong>Pick-up Date:</strong> <%= rental.date_rented.to_formatted_s(:long) %> </p>
            <p><strong>Return Date:</strong> <%= rental.date_return.to_formatted_s(:long) %> </p>
            <%= link_to "Approve", accept_rental_path(rental), class: "btn btn-success btn-sm" %>
            <%= link_to "Reject", decline_rental_path(rental), class: "btn btn-danger btn-sm" %>
          </div>
        </div>
      <% end %>

        <div class="header">
        <h4> My Rentals </h4>
      </div>
      <% @outgoing_rentals.each do |rental| %>
        <div class="container-rental">
          <img src="https://raw.githubusercontent.com/lewagon/fullstack-images/master/uikit/skateboard.jpg" />
          <div class="card-rental-infos">
            <h2><strong>Vehicle:</strong> <%= rental.car.make  %> <%= rental.car.model  %></h2>
            <p><strong>Pick-up Date:</strong> <%= rental.date_rented.to_formatted_s(:long) %> </p>
            <p><strong>Return Date:</strong> <%= rental.date_return.to_formatted_s(:long) %> </p>
            <% if rental.owner_approval == nil %>
              <p><strong>Owner confirmation: </strong><span style="color: #ff6200">Pending</span></p>
            <% elsif rental.owner_approval == true %>
              <p><strong>Owner confirmation: </strong><span style="color: green">Confirmed</span></p>
            <% else rental.owner_approval == false %>
              <p><strong>Owner confirmation: </strong><span style="color: red">Rejected</span></p>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
